<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:aui="http://liferay.com/faces/aui" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" xmlns:ui="http://java.sun.com/jsf/facelets" 
	template="/templates/template.xhtml">
	<ui:param name="top_selected_item" value="callback" />
	<ui:define name="metadata">
    	
	</ui:define>
    <ui:define name="title">Business analysis console</ui:define>

    <ui:define name="pageContent">
		<h:form id="frmView">
			<rich:messages globalOnly="true" layout="table" />
				
                        <rich:panel header="Обратный звонок" styleClass="layout block4">
                            <h:panelGrid columns="2" columnClasses="layout-field-name, top-valigned">
                              
                                <h:outputText value="Дата заявки" />  
                                   <h:outputText value="#{viewCallback.callBack.dateRequest}">
                                       <f:convertDateTime pattern="dd.MM.yyyy HH:mm"/>
                                   </h:outputText>
                                <h:outputText value="Дата взятия в работу" /> 
                                   <h:outputText value="#{viewCallback.callBack.dateCall}">
                                      <f:convertDateTime pattern="dd.MM.yyyy HH:mm"/>
                                   </h:outputText>
                                <h:outputText value="Фамилия" /> <h:outputText value="#{viewCallback.callBack.surname}"/>
                                <h:outputText value="Имя" /> <h:outputText value="#{viewCallback.callBack.name}"/>
                                <h:outputText value="Телефон" /> <h:outputText value="#{viewCallback.callBack.phone}"/>
                                <h:outputText value="Email" /> <h:outputText value="#{viewCallback.callBack.email}"/>
                                <h:outputText value="Вид обратившегося" rendered="#{viewCallback.callBack.type!=null}"/>
                                <h:outputText value="Заемщик" rendered="#{viewCallback.callBack.type!=null and viewCallback.callBack.type.codeInteger==1}"/>
                                <h:outputText value="Инвестор" rendered="#{viewCallback.callBack.type!=null and viewCallback.callBack.type.codeInteger==2}"/>
                                <h:outputText value="Сообщение" rendered="#{not empty viewCallback.callBack.message}"/>
         	 	                <h:inputTextarea id="rbody" value="#{viewCallback.callBack.message}" cols="120" rows="25" rendered="#{not empty viewCallback.callBack.message}"/>
                            </h:panelGrid>
                        </rich:panel>
                       
			<h:panelGrid columns="2">
			   <h:commandButton value="Позвонить" styleClass="button ml0"  onclick="alert('Был сделан звонок'); return false;"></h:commandButton>
			   <h:commandButton value="Закрыть" styleClass="button grey" action="#{viewCallback.close}">	</h:commandButton>
			</h:panelGrid>
			
        </h:form>
    </ui:define>
</ui:composition>
